
动态规划
```typescript
function countSubstrings(s: string): number{
    let dp:boolean[][] = new Array(s.length).fill(false).map(() => new Array(s.length).fill(false));

    let res:number = 0;

    for(let i = s.length-1;i>=0;i--){
        for(let j=i;j<s.length;j++){
            if(s[i]==s[j]){
                if(j-i <= 1){
                    res+=1;
                    dp[i][j] = true
                }
                else if(dp[i+1][j-1]){
                    res += 1;
                    dp[i][j] = true;
                }
            }
            
        }
    }

    return res;
};
```

双指针

```typescript
function countSubstrings(s: string): number{
    let res = 0;

    for(let i=0;i<s.length;i++){
        res += extend(s,i,i);
        res += extend(s,i,i+1);
    }

    return res;
};

function extend(s: string,i:number,j:number){
    let res:number = 0;

    while(i>=0 && j<s.length && s[i] == s[j]){
        i--;
        j++;
        res ++
    }

    return res
}
```


